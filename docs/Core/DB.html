<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="robots" content="index, follow, all" />
    <title>Core\DB | Chappy.php API</title>

            <link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="../css/bootstrap-theme.min.css">
        <link rel="stylesheet" type="text/css" href="../css/doctum.css">
        <link rel="stylesheet" type="text/css" href="../fonts/doctum-font.css">
        <script src="../js/jquery-3.5.1.slim.min.js"></script>
        <script async defer src="../doctum.js"></script>
        <script async defer src="../js/bootstrap.min.js"></script>
        <script async defer src="../js/autocomplete.min.js"></script>
        <meta name="MobileOptimized" content="width">
        <meta name="HandheldFriendly" content="true">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">

        <link rel="search"
          type="application/opensearchdescription+xml"
          href="/docs/opensearch.xml"
          title="Chappy.php API (main)" />
    </head>

    <body id="class" data-name="class:Core_DB" data-root-path="../" data-search-index-url="../doctum-search.json">
            <div id="content">
        <div id="left-column">
                <div id="control-panel">
                <div class="search-bar hidden" id="search-progress-bar-container">
            <div class="progress">
                <div class="progress-bar" role="progressbar" id="search-progress-bar"
                    aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>
            </div>
        </div>
        <form id="search-form" action="../search.html">
            <span class="icon icon-search"></span>
            <input name="search"
                   id="doctum-search-auto-complete"
                   class="typeahead form-control"
                   type="search"
                   placeholder="Search"
                   spellcheck="false"
                   autocorrect="off"
                   autocomplete="off"
                   autocapitalize="off">
            <div class="auto-complete-results" id="auto-complete-results"></div>
        </form>
    </div>

                <div id="api-tree"></div>

        </div>
        <div id="right-column">
                <nav id="site-nav" class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-elements">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="../index.html">Chappy.php API</a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-elements">
                <ul class="nav navbar-nav">
                    <li><a href="../classes.html">Classes</a></li>
                    <li><a href="../namespaces.html">Namespaces</a></li>
                    <li><a href="../interfaces.html">Interfaces</a></li>
                    <li><a href="../traits.html">Traits</a></li>
                    <li><a href="../doc-index.html">Index</a></li>
                    <li><a href="../search.html">Search</a></li>
                </ul>
            </div>
        </div>
    </nav>

                        <div class="namespace-breadcrumbs">
            <ol class="breadcrumb">
                <li><span class="label label-default">class</span></li>
                        <li><a href="../Core.html">Core</a></li><li class="backslash">\</li><li>DB</li>
            </ol>
        </div>
                <div id="page-content">
    <div class="page-header">
        <h1>DB    
            </h1>
    </div>

    
    <p>        class
    <strong>DB</strong>
</p>

        
    
        

            <div class="description">
            <p><p>Support database operations.</p></p>                    </div>
            
        
    
            <h2>Properties</h2>

            <table class="table table-condensed">
                    <tr>
                <td class="type" id="property__count">
                                                            private                    int
                                                                                
                                    </td>
                <td>$_count</td>
                <td class="last"><p>Number of items returned.</p></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property__dbDriver">
                                                            private                    string
                                                                                
                                    </td>
                <td>$_dbDriver</td>
                <td class="last"><p>The database driver.</p></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property__error">
                                                            private                    bool
                                                                                
                                    </td>
                <td>$_error</td>
                <td class="last"><p>Error status.</p></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property__fetchStyle">
                                                            private                    int
                                                                                
                                    </td>
                <td>$_fetchStyle</td>
                <td class="last"><p>The fetch style.</p></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property__instance">
                    static                                        private                    <a href="../Core/DB.html"><abbr title="Core\DB">DB</abbr></a>
                                                                                
                                    </td>
                <td>$_instance</td>
                <td class="last"><p>Instance of this class.</p></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property__lastInsertID">
                                                            private                    int
                                                                                
                                    </td>
                <td>$_lastInsertID</td>
                <td class="last"><p>Id of last item inserted into database.</p></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property__pdo">
                                                            private                    <a target="_blank" rel="noopener" href="https://www.php.net/PDO">PDO</a>
                                                                                
                                    </td>
                <td>$_pdo</td>
                <td class="last"><p>The PDO object.</p></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property__query">
                                                            private                    mixed
                                                                                
                                    </td>
                <td>$_query</td>
                <td class="last"><p>The query.</p></td>
                <td></td>
            </tr>
                    <tr>
                <td class="type" id="property__result">
                                                            private                    mixed
                                                                                
                                    </td>
                <td>$_result</td>
                <td class="last"><p>The result.</p></td>
                <td></td>
            </tr>
            </table>

    
            <h2>Methods</h2>

            <div class="container-fluid underlined">
                    <div class="row">
                <div class="col-md-2 type">
                    
                </div>
                <div class="col-md-8">
                    <a href="#method___construct">__construct</a>()
        
                                            <p><p>This constructor creates a new PDO object as an instance variable.  If
there are any failures the application quits with an error message.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    bool
                </div>
                <div class="col-md-8">
                    <a href="#method_beginTransaction">beginTransaction</a>()
        
                                            <p><p>Begins a database transaction.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    string
                </div>
                <div class="col-md-8">
                    <a href="#method__buildJoin">_buildJoin</a>(array $join = [])
        
                                            <p><p>Constructs join statements for SQL queries.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    bool
                </div>
                <div class="col-md-8">
                    <a href="#method_commit">commit</a>()
        
                                            <p><p>Commits the current database transaction.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;void
                </div>
                <div class="col-md-8">
                    <a href="#method_connect">connect</a>(array $override)
        
                                            <p><p>Establishes a new database connection using the provided configuration array.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    int
                </div>
                <div class="col-md-8">
                    <a href="#method_count">count</a>()
        
                                            <p><p>Getter function for the private _count variable.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    bool
                </div>
                <div class="col-md-8">
                    <a href="#method_delete">delete</a>(string $table, int $id)
        
                                            <p><p>Performs delete operation against SQL database.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    bool
                </div>
                <div class="col-md-8">
                    <a href="#method_error">error</a>()
        
                                            <p><p>Getter function for the $_error variable.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    <abbr title="Core\bool|array">bool|array</abbr>
                </div>
                <div class="col-md-8">
                    <a href="#method_find">find</a>(string $table, array $params = [], <abbr title="Core\bool|string">bool|string</abbr> $class = false)
        
                                            <p><p>Performs find operation against the database.  The user can use
parameters such as conditions, bind, order, limit, and sort.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    <abbr title="Core\array|object|bool">array|object|bool</abbr>
                </div>
                <div class="col-md-8">
                    <a href="#method_findFirst">findFirst</a>(string $table, array $params = [], <abbr title="Core\bool|string">bool|string</abbr> $class = false)
        
                                            <p><p>Returns the first result performed by an SQL query.  It is a wrapper
for the _read function for this purpose.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    int
                </div>
                <div class="col-md-8">
                    <a href="#method_findTotal">findTotal</a>(string $table, array $params = [])
        
                                            <p><p>Returns number of records in a table.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    <abbr title="Core\array|object">array|object</abbr>
                </div>
                <div class="col-md-8">
                    <a href="#method_first">first</a>()
        
                                            <p><p>Returns first result in the _result array.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    array
                </div>
                <div class="col-md-8">
                    <a href="#method_getColumns">getColumns</a>(string $table)
        
                                            <p><p>Returns columns for a table.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;<a href="../Core/DB.html"><abbr title="Core\DB">DB</abbr></a>
                </div>
                <div class="col-md-8">
                    <a href="#method_getInstance">getInstance</a>()
        
                                            <p><p>An instance of this class set as a variable.  To be used in other
class because we can't use $this.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    <a target="_blank" rel="noopener" href="https://www.php.net/PDO">PDO</a>
                </div>
                <div class="col-md-8">
                    <a href="#method_getPDO">getPDO</a>()
        
                                            <p><p>Returns instance of PDO class.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    static&nbsp;<abbr title="Core\string|null">string|null</abbr>
                </div>
                <div class="col-md-8">
                    <a href="#method_groupByColumn">groupByColumn</a>(string $column)
        
                                            <p><p>Appropriately formats column for query with GROUP BY operations.  A
call to the ANY_VALUE function is added if the DB driver is MySQL
or MariaDB.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    bool
                </div>
                <div class="col-md-8">
                    <a href="#method_insert">insert</a>(string $table, array $fields = [])
        
                                            <p><p>Perform insert operations against the database.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    bool
                </div>
                <div class="col-md-8">
                    <a href="#method_inTransaction">inTransaction</a>()
        
                                            <p><p>Checks if a transaction is currently active.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    <abbr title="Core\int|string|null">int|string|null</abbr>
                </div>
                <div class="col-md-8">
                    <a href="#method_lastID">lastID</a>()
        
                                            <p><p>The primary key ID of the last insert operation.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    <a href="../Core/DB.html"><abbr title="Core\DB">DB</abbr></a>
                </div>
                <div class="col-md-8">
                    <a href="#method_query">query</a>(string $sql, array $params = [], <abbr title="Core\bool|string">bool|string</abbr> $class = false)
        
                                            <p><p>Performs database query operations that includes prepare,
binding, execute, and fetch.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    bool
                </div>
                <div class="col-md-8">
                    <a href="#method__read">_read</a>(string $table, array $params = [], <abbr title="Core\bool|string">bool|string</abbr> $class = false, bool $count = false)
        
                                            <p><p>Supports SELECT operations that maybe ran against a SQL database.  It
supports the ability to order and limit the number of results returned
from a database query.  The user can use parameters such as conditions,
bind, order, limit, and sort.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    array
                </div>
                <div class="col-md-8">
                    <a href="#method_results">results</a>()
        
                                            <p><p>Returns value of query results.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    bool
                </div>
                <div class="col-md-8">
                    <a href="#method_rollBack">rollBack</a>()
        
                                            <p><p>Rolls back the current database transaction.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    bool
                </div>
                <div class="col-md-8">
                    <a href="#method_tableExists">tableExists</a>(string $table)
        
                                            <p><p>Checks whether a given table exists in the currently connected database.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    bool
                </div>
                <div class="col-md-8">
                    <a href="#method_update">update</a>(string $table, int $id, array $fields = [])
        
                                            <p><p>Performs update operation on a SQL database record.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    int
                </div>
                <div class="col-md-8">
                    <a href="#method_updateWhere">updateWhere</a>(string $table, array $fields, array $params = [])
        
                                            <p><p>Updates records in a table using params-style conditions.</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
                    <div class="row">
                <div class="col-md-2 type">
                    bool
                </div>
                <div class="col-md-8">
                    <a href="#method_valueExistsInColumn">valueExistsInColumn</a>(string $table, string $column, mixed $value)
        
                                            <p><p>Check if a value exists in a JSON or text-based column</p></p>                </div>
                <div class="col-md-2"></div>
            </div>
            </div>


        <h2>Details</h2>

            <div id="method-details">
                    <div class="method-item">
                    <h3 id="method___construct">
        <div class="location">at line 73</div>
        <code>                private    
    <strong>__construct</strong>()
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>This constructor creates a new PDO object as an instance variable.  If
there are any failures the application quits with an error message.</p></p>                        
        </div>
        <div class="tags">
            
            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_beginTransaction">
        <div class="location">at line 109</div>
        <code>                    bool
    <strong>beginTransaction</strong>()
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Begins a database transaction.</p></p>                        
        </div>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>bool</td>
            <td><p>True on success, false on failure</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method__buildJoin">
        <div class="location">at line 120</div>
        <code>            protected        string
    <strong>_buildJoin</strong>(array $join = [])
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Constructs join statements for SQL queries.</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>array</td>
                <td>$join</td>
                <td><p>Data such as table, conditions, and aliases needed
to construct join query.  Default value is an empty array.</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>string</td>
            <td><p>The join component of a query.</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_commit">
        <div class="location">at line 134</div>
        <code>                    bool
    <strong>commit</strong>()
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Commits the current database transaction.</p></p>                        
        </div>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>bool</td>
            <td><p>True on success, false on failure</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_connect">
        <div class="location">at line 166</div>
        <code>        static            void
    <strong>connect</strong>(array $override)
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Establishes a new database connection using the provided configuration array.</p></p>                <p><p>This method creates a new PDO instance based on the given connection details
and sets it as the singleton instance for the DB class. It can be used to
override the default database connection at runtime (e.g., for testing or
connecting to a different database).</p>
<p>Supported drivers:</p>
<ul>
<li><strong>sqlite:</strong> Connects to a SQLite database file or an in-memory database.
Foreign key constraints are enabled by default.</li>
<li><strong>mysql:</strong> Connects to a MySQL/MariaDB database using the provided host, port,
database name, charset, username, and password.</li>
</ul></p>        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>array</td>
                <td>$override</td>
                <td><p>An associative array containing connection parameters:</p>
<ul>
<li><code>driver</code>   (string)  The database driver ('sqlite' or 'mysql').</li>
<li><code>database</code> (string)  Path to SQLite file or database name for MySQL.</li>
<li><code>host</code>     (string)  (MySQL) The database host.</li>
<li><code>port</code>     (int)     (MySQL) The database port.</li>
<li><code>charset</code>  (string)  (MySQL) The character set.</li>
<li><code>username</code> (string)  (MySQL) The username for authentication.</li>
<li><code>password</code> (string)  (MySQL) The password for authentication.</li>
</ul></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>void</td>
            <td></td>
        </tr>
    </table>

            
                            <h4>Exceptions</h4>

                    <table class="table table-condensed">
                    <tr>
                <td><a target="_blank" rel="noopener" href="https://www.php.net/Exception">Exception</a></td>
                <td></td>
            </tr>
            </table>

            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_count">
        <div class="location">at line 195</div>
        <code>                    int
    <strong>count</strong>()
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Getter function for the private _count variable.</p></p>                        
        </div>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>int</td>
            <td><p>The number of results found in an SQL query.</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_delete">
        <div class="location">at line 212</div>
        <code>                    bool
    <strong>delete</strong>(string $table, int $id)
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Performs delete operation against SQL database.</p></p>                <p><p>Example setup:
$contacts = $db-&gt;delete('contacts', 3);</p></p>        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$table</td>
                <td><p>The name of the table that contains the record
we want to delete.</p></td>
            </tr>
                    <tr>
                <td>int</td>
                <td>$id</td>
                <td><p>The primary key for the record we want to remove from a
database table.</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>bool</td>
            <td><p>True if delete operation is successful.  Otherwise, we
return false.</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_error">
        <div class="location">at line 222</div>
        <code>                    bool
    <strong>error</strong>()
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Getter function for the $_error variable.</p></p>                        
        </div>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>bool</td>
            <td><p>The value for the $_error flag.</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_find">
        <div class="location">at line 248</div>
        <code>                    <abbr title="Core\bool|array">bool|array</abbr>
    <strong>find</strong>(string $table, array $params = [], <abbr title="Core\bool|string">bool|string</abbr> $class = false)
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Performs find operation against the database.  The user can use
parameters such as conditions, bind, order, limit, and sort.</p></p>                <p><p>Example setup:
$contacts = $db-&gt;find('users', [
'conditions' =&gt; [&quot;email = ?&quot;],
'bind' =&gt; ['chad.chapman@email.com'],
'order' =&gt; &quot;username&quot;,
'limit' =&gt; 5,
'sort' =&gt; 'DESC'
]);</p></p>        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$table</td>
                <td><p>The name or the table we want to perform
our query against</p></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$params</td>
                <td><p>An associative array that contains key value pair
parameters for our query such as conditions, bind, limit, offset,
join, order, and sort.  The default value is an empty array.</p></td>
            </tr>
                    <tr>
                <td><abbr title="Core\bool|string">bool|string</abbr></td>
                <td>$class</td>
                <td><p>A default value of false, it contains the
name of the class we will build based on the name of a model.</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><abbr title="Core\bool|array">bool|array</abbr></td>
            <td><p>An array of object returned from an SQL query.</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_findFirst">
        <div class="location">at line 269</div>
        <code>                    <abbr title="Core\array|object|bool">array|object|bool</abbr>
    <strong>findFirst</strong>(string $table, array $params = [], <abbr title="Core\bool|string">bool|string</abbr> $class = false)
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Returns the first result performed by an SQL query.  It is a wrapper
for the _read function for this purpose.</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$table</td>
                <td></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$params</td>
                <td><p>An associative array that contains key value pair
parameters for our query such as conditions, bind, limit, offset,
join, order, and sort.  The default value is an empty array.</p></td>
            </tr>
                    <tr>
                <td><abbr title="Core\bool|string">bool|string</abbr></td>
                <td>$class</td>
                <td><p>A default value of false, it contains the
name of the class we will build based on the name of a model.</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><abbr title="Core\array|object|bool">array|object|bool</abbr></td>
            <td><p>An associative array of results returned from an SQL
query.</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_findTotal">
        <div class="location">at line 286</div>
        <code>                    int
    <strong>findTotal</strong>(string $table, array $params = [])
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Returns number of records in a table.</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$table</td>
                <td><p>The name or the table we want to perform
our query against.</p></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$params</td>
                <td><p>An associative array that contains key value pair
parameters for our query such as conditions, bind, limit, offset,
join, order, and sort.  The default value is an empty array.</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>int</td>
            <td><p>$count The number of records in a table.</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_first">
        <div class="location">at line 300</div>
        <code>                    <abbr title="Core\array|object">array|object</abbr>
    <strong>first</strong>()
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Returns first result in the _result array.</p></p>                        
        </div>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><abbr title="Core\array|object">array|object</abbr></td>
            <td><p>An associative array that is the first object
in a _result.</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getColumns">
        <div class="location">at line 312</div>
        <code>                    array
    <strong>getColumns</strong>(string $table)
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Returns columns for a table.</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$table</td>
                <td><p>The name of the table we want to retrieve
the column names.</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td><p>An array of objects where each one represents a column
from a database table.</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getInstance">
        <div class="location">at line 328</div>
        <code>        static            <a href="../Core/DB.html"><abbr title="Core\DB">DB</abbr></a>
    <strong>getInstance</strong>()
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>An instance of this class set as a variable.  To be used in other
class because we can't use $this.</p></p>                        
        </div>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><a href="../Core/DB.html"><abbr title="Core\DB">DB</abbr></a></td>
            <td><p>The instance of this class.</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_getPDO">
        <div class="location">at line 340</div>
        <code>                    <a target="_blank" rel="noopener" href="https://www.php.net/PDO">PDO</a>
    <strong>getPDO</strong>()
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Returns instance of PDO class.</p></p>                        
        </div>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><a target="_blank" rel="noopener" href="https://www.php.net/PDO">PDO</a></td>
            <td><p>The PDO object.</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_groupByColumn">
        <div class="location">at line 353</div>
        <code>        static            <abbr title="Core\string|null">string|null</abbr>
    <strong>groupByColumn</strong>(string $column)
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Appropriately formats column for query with GROUP BY operations.  A
call to the ANY_VALUE function is added if the DB driver is MySQL
or MariaDB.</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$column</td>
                <td><p>Name of the column to format.</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><abbr title="Core\string|null">string|null</abbr></td>
            <td><p>The properly formatted column if DB driver
is properly set or detected.  Otherwise, we return null.</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_insert">
        <div class="location">at line 384</div>
        <code>                    bool
    <strong>insert</strong>(string $table, array $fields = [])
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Perform insert operations against the database.</p></p>                <p><p>Example setup:
$fields = [
'fname' =&gt; 'John',
'lname' =&gt; 'Doe',
'email' =&gt; 'example@email.com'
];
$contacts = $db-&gt;insert('contacts', $fields);</p></p>        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$table</td>
                <td><p>The name of the table we want to perform the
insert operation.</p></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$fields</td>
                <td><p>An associative array of key value pairs.  The key
is the name of the database field and the value is the value we will
set to a particular field.  The default value is an empty array.</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>bool</td>
            <td><p>Report whether or not the operation was successful.</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_inTransaction">
        <div class="location">at line 414</div>
        <code>                    bool
    <strong>inTransaction</strong>()
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Checks if a transaction is currently active.</p></p>                        
        </div>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>bool</td>
            <td><p>True if a transaction is active, false otherwise</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_lastID">
        <div class="location">at line 423</div>
        <code>                    <abbr title="Core\int|string|null">int|string|null</abbr>
    <strong>lastID</strong>()
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>The primary key ID of the last insert operation.</p></p>                        
        </div>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><abbr title="Core\int|string|null">int|string|null</abbr></td>
            <td><p>The primary key ID from the last insert operation.</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_query">
        <div class="location">at line 441</div>
        <code>                    <a href="../Core/DB.html"><abbr title="Core\DB">DB</abbr></a>
    <strong>query</strong>(string $sql, array $params = [], <abbr title="Core\bool|string">bool|string</abbr> $class = false)
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Performs database query operations that includes prepare,
binding, execute, and fetch.</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$sql</td>
                <td><p>The database query we will submit to the database.</p></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$params</td>
                <td><p>An associative array that contains key value pair
parameters for our query such as conditions, bind, limit, offset,
join, order, and sort.  The default value is an empty array.</p></td>
            </tr>
                    <tr>
                <td><abbr title="Core\bool|string">bool|string</abbr></td>
                <td>$class</td>
                <td><p>A default value of false, it contains the
name of the class we will build based on the name of a model.</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td><a href="../Core/DB.html"><abbr title="Core\DB">DB</abbr></a></td>
            <td><p>The results of the database query.  If the operation
is not successful the $_error instance variable is set to true and is
returned.</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method__read">
        <div class="location">at line 493</div>
        <code>            protected        bool
    <strong>_read</strong>(string $table, array $params = [], <abbr title="Core\bool|string">bool|string</abbr> $class = false, bool $count = false)
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Supports SELECT operations that maybe ran against a SQL database.  It
supports the ability to order and limit the number of results returned
from a database query.  The user can use parameters such as conditions,
bind, order, limit, and sort.</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$table</td>
                <td><p>The name of the table that contains the
record(s) we want to find.</p></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$params</td>
                <td><p>An associative array that contains key value pair
parameters for our query such as conditions, bind, limit, offset,
join, order, and sort.  The default value is an empty array.</p></td>
            </tr>
                    <tr>
                <td><abbr title="Core\bool|string">bool|string</abbr></td>
                <td>$class</td>
                <td><p>A default value of false, it contains the
name of the class we will build based on the name of a model.</p></td>
            </tr>
                    <tr>
                <td>bool</td>
                <td>$count</td>
                <td><p>Boolean switch for turning on support for count
operations.  Default value is false.</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>bool</td>
            <td><p>A true or false value depending on a successful operation.</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_results">
        <div class="location">at line 599</div>
        <code>                    array
    <strong>results</strong>()
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Returns value of query results.</p></p>                        
        </div>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>array</td>
            <td><p>An array of objects that contain results of a database
query.</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_rollBack">
        <div class="location">at line 608</div>
        <code>                    bool
    <strong>rollBack</strong>()
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Rolls back the current database transaction.</p></p>                        
        </div>
        <div class="tags">
            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>bool</td>
            <td><p>True on success, false on failure</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_tableExists">
        <div class="location">at line 623</div>
        <code>                    bool
    <strong>tableExists</strong>(string $table)
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Checks whether a given table exists in the currently connected database.</p></p>                <p><p>This method runs a driver-specific query to determine if the table is present.
For SQLite, it queries the <code>sqlite_master</code> system table. For MySQL/MariaDB,
it uses the <code>SHOW TABLES LIKE</code> statement.</p></p>        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$table</td>
                <td><p>The name of the table to check for existence.</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>bool</td>
            <td><p>Returns true if the table exists in the database, or false if it does not.</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_update">
        <div class="location">at line 653</div>
        <code>                    bool
    <strong>update</strong>(string $table, int $id, array $fields = [])
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Performs update operation on a SQL database record.</p></p>                <p><p>Example setup:
$fields = [
'fname' =&gt; 'John',
'email' =&gt; 'example@email.com'
];
$contacts = $db-&gt;update('contacts', 3, $fields);</p></p>        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$table</td>
                <td><p>$table The name of the table that contains the
record we want to update.</p></td>
            </tr>
                    <tr>
                <td>int</td>
                <td>$id</td>
                <td><p>The primary key for the record we want to remove from a
database table.</p></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$fields</td>
                <td><p>The value of the fields we want to set for the
database record.  The default value is an empty array.</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>bool</td>
            <td><p>True if the update operation is successful.  Otherwise,
we return false.</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_updateWhere">
        <div class="location">at line 668</div>
        <code>                    int
    <strong>updateWhere</strong>(string $table, array $fields, array $params = [])
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Updates records in a table using params-style conditions.</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$table</td>
                <td><p>The table to update.</p></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$fields</td>
                <td><p>Key/value pairs to set.</p></td>
            </tr>
                    <tr>
                <td>array</td>
                <td>$params</td>
                <td><p>Params like ['conditions' =&gt; 'queue = ?', 'bind' =&gt; [$queueName]]</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>int</td>
            <td><p>Number of rows affected.</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
                    <div class="method-item">
                    <h3 id="method_valueExistsInColumn">
        <div class="location">at line 704</div>
        <code>                    bool
    <strong>valueExistsInColumn</strong>(string $table, string $column, mixed $value)
        </code>
    </h3>
    <div class="details">    
    
            

        <div class="method-description">
                            <p><p>Check if a value exists in a JSON or text-based column</p></p>                        
        </div>
        <div class="tags">
                            <h4>Parameters</h4>

                    <table class="table table-condensed">
                    <tr>
                <td>string</td>
                <td>$table</td>
                <td><p>The table name</p></td>
            </tr>
                    <tr>
                <td>string</td>
                <td>$column</td>
                <td><p>The column name (JSON or text-based)</p></td>
            </tr>
                    <tr>
                <td>mixed</td>
                <td>$value</td>
                <td><p>The value to search for</p></td>
            </tr>
            </table>

            
                            <h4>Return Value</h4>

                    <table class="table table-condensed">
        <tr>
            <td>bool</td>
            <td><p>True if value exists, False otherwise</p></td>
        </tr>
    </table>

            
            
            
                    </div>
    </div>

            </div>
            </div>

    
</div><div id="footer">
        Generated by <a href="https://github.com/code-lts/doctum">Doctum, a API Documentation generator and fork of Sami</a>.</div></div>
    </div>
    </body>

</html>
